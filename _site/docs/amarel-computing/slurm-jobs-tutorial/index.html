<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"><link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"><style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(3)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(3) > ul > li:nth-child(3) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(3) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(3) > ul > li:nth-child(3) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list > li.nav-list-item:nth-child(3) > ul.nav-list { display: block; }</style><script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico" type="image/x-icon"><title>Slurm Jobs Tutorial | Holmes Lab Documentation</title><meta name="generator" content="Jekyll v3.10.0" /><meta property="og:title" content="Slurm Jobs Tutorial" /><meta property="og:locale" content="en_US" /><meta name="description" content="Documentation for the Holmes Lab at Rutgers University, Department of Psychiatry" /><meta property="og:description" content="Documentation for the Holmes Lab at Rutgers University, Department of Psychiatry" /><link rel="canonical" href="http://localhost:4000/docs/amarel-computing/slurm-jobs-tutorial/" /><meta property="og:url" content="http://localhost:4000/docs/amarel-computing/slurm-jobs-tutorial/" /><meta property="og:site_name" content="Holmes Lab Documentation" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Slurm Jobs Tutorial" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Documentation for the Holmes Lab at Rutgers University, Department of Psychiatry","headline":"Slurm Jobs Tutorial","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/logo_circle.png"}},"url":"http://localhost:4000/docs/amarel-computing/slurm-jobs-tutorial/"}</script><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg><div class="side-bar"><div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"><div class="site-logo" role="img" aria-label="Holmes Lab Documentation"></div></a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Current Projects category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/current-projects/" class="nav-list-link">Current Projects</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in PCX category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/current-projects/PCX/" class="nav-list-link">PCX</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/current-projects/PCX/pcx-sop/" class="nav-list-link">Study Procedure</a><li class="nav-list-item"><a href="/docs/current-projects/PCX/study-overview/" class="nav-list-link">Study Overview</a><li class="nav-list-item"><a href="/docs/current-projects/PCX/IRBs/" class="nav-list-link">IRBs</a><li class="nav-list-item"><a href="/docs/current-projects/PCX/accessing-eris/" class="nav-list-link">Accessing Eris (MGB Server)</a></ul></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Amarel Computing category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/amarel-computing/" class="nav-list-link">Amarel Computing</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/amarel-computing/modules-in-amarel/" class="nav-list-link">Modules in Amarel</a><li class="nav-list-item"><a href="/docs/amarel-computing/setting-ssh-key/" class="nav-list-link">SSH Keys</a><li class="nav-list-item"><a href="/docs/amarel-computing/slurm-jobs-tutorial/" class="nav-list-link">Slurm Jobs Tutorial</a><li class="nav-list-item"><a href="/docs/amarel-computing/update-python/" class="nav-list-link">Update to New Python in Amarel</a><li class="nav-list-item"><a href="/docs/amarel-computing/amarel-computing/" class="nav-list-link">Amarel Compute Cluster - General</a><li class="nav-list-item"><a href="/docs/amarel-computing/rutgers-vpn/" class="nav-list-link">Connecting to Rutgers VPN</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab Policies category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/lab-policies/" class="nav-list-link">Lab Policies</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/lab-policies/filesystem-amarel/" class="nav-list-link">Filesystem in Amarel</a><li class="nav-list-item"><a href="/docs/lab-policies/lab-overview/" class="nav-list-link">Lab Overview</a><li class="nav-list-item"><a href="/docs/lab-policies/software-we-use/" class="nav-list-link">Software We Use</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab Space at CAHBIR category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/lab-space/" class="nav-list-link">Lab Space at CAHBIR</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/lab-space/CAHBIR-mailing-list/" class="nav-list-link">CAHBIR E-Mailing List SOP</a><li class="nav-list-item"><a href="/docs/lab-space/lab-inventory/" class="nav-list-link">Lab Inventory</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in MRI at CAHBIR category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/lab-space/MRI%20at%20CAHBIR/" class="nav-list-link">MRI at CAHBIR</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/lab-space/MRI%20at%20CAHBIR/CAHBIR%20MRI%20Suite%20eac375354411485fa30ddaa64d667fe9/" class="nav-list-link">CAHBIR MRI Suite</a><li class="nav-list-item"><a href="/docs/lab-space/MRI%20at%20CAHBIR/Flywheel%20Tutorial%201a4cf00eb9368016aca9cb6c273b301d/" class="nav-list-link">Flywheel Tutorial</a><li class="nav-list-item"><a href="/docs/lab-space/MRI%20at%20CAHBIR/Flywheel%20in%20Command%20Line%201cacf00eb93680789f7ae9551558eba0/" class="nav-list-link">Flywheel in Command Line</a><li class="nav-list-item"><a href="/docs/lab-space/MRI%20at%20CAHBIR/MRI%20Training%201%20at%20CAHBIR%20(SRB)%200eb6e57604dc464c8c252f5b725ad1c4/" class="nav-list-link">MRI Training 1</a><li class="nav-list-item"><a href="/docs/lab-space/MRI%20at%20CAHBIR/Scheduling%20MRI%20Scans%20at%20CAHBIR%20173cf00eb9368082b3c1ec7c9d39c66e/" class="nav-list-link">Scheduling MRI Scans at CAHBIR</a></ul><li class="nav-list-item"><a href="/docs/lab-space/parking/" class="nav-list-link">Parking Permits</a><li class="nav-list-item"><a href="/docs/lab-space/printer-supplies/" class="nav-list-link">Printer Supplies</a><li class="nav-list-item"><a href="/docs/lab-space/service-request/" class="nav-list-link">Service Request Tutorial</a><li class="nav-list-item"><a href="/docs/lab-space/software-purchasing/" class="nav-list-link">Software Purchasing</a><li class="nav-list-item"><a href="/docs/lab-space/work-requests/" class="nav-list-link">Work Requests at CAHBIR</a><li class="nav-list-item"><a href="/docs/lab-space/zoom-with-owl/" class="nav-list-link">Zoom meetings with OWL Setup</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Open Source Data category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/open-source-data/" class="nav-list-link">Open Source Data</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/open-source-data/open-source-data/" class="nav-list-link">Data Resource Sites</a><li class="nav-list-item"><a href="/docs/open-source-data/data-from-nda/" class="nav-list-link">Tutorial - Data from NDA</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Purchasing category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/purchasing/" class="nav-list-link">Purchasing</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/purchasing/check-request/" class="nav-list-link">Check Request Tutorial</a><li class="nav-list-item"><a href="/docs/purchasing/computer-purchasing/" class="nav-list-link">Computer Purchasing</a><li class="nav-list-item"><a href="/docs/purchasing/purchasing/" class="nav-list-link">Purchasing Tutorial</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Resources category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/resources/" class="nav-list-link">Resources</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Coding Resources category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/resources/coding/" class="nav-list-link">Coding Resources</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/resources/coding/resources/" class="nav-list-link">Coding Tutorials from Online</a><li class="nav-list-item"><a href="/docs/resources/coding/courses/" class="nav-list-link">Courses Online</a><li class="nav-list-item"><a href="/docs/resources/coding/freesurfer/" class="nav-list-link">FreeSurfer Overview</a><li class="nav-list-item"><a href="/docs/resources/coding/networkX/" class="nav-list-link">NetworkX and PyTorch Basics</a><li class="nav-list-item"><a href="/docs/resources/coding/packages/" class="nav-list-link">Packages for fMRI Analysis</a><li class="nav-list-item"><a href="/docs/resources/coding/shell-scripting/" class="nav-list-link">Shell Scripting Primer</a></ul><li class="nav-list-item"><a href="/docs/resources/grant-writing/" class="nav-list-link">Grant Writing Resources</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Learning Resources category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/resources/learning/" class="nav-list-link">Learning Resources</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/resources/learning/Learning%20Resources/" class="nav-list-link">Neuroimaging Resource Sites</a><li class="nav-list-item"><a href="/docs/resources/learning/network-neuroscience-primer/" class="nav-list-link">Network Neuroscience Primer</a><li class="nav-list-item"><a href="/docs/resources/learning/glossary/" class="nav-list-link">Glossary</a><li class="nav-list-item"><a href="/docs/resources/learning/phd-applications/" class="nav-list-link">PhD Applications</a><li class="nav-list-item"><a href="/docs/resources/learning/pipeline-dfc/" class="nav-list-link">Pipeline Outline for dFC Research</a><li class="nav-list-item"><a href="/docs/resources/learning/books-movies/" class="nav-list-link">Books & Movies - Neuroscience</a><li class="nav-list-item"><a href="/docs/resources/learning/brain-atlases/" class="nav-list-link">Brain Network Analysis (using Atlases)</a><li class="nav-list-item"><a href="/docs/resources/learning/cca/" class="nav-list-link">Canonical Correlation Analysis</a><li class="nav-list-item"><a href="/docs/resources/learning/dfc-analysis/" class="nav-list-link">Dynamic FC Patterns</a><li class="nav-list-item"><a href="/docs/resources/learning/dtw/" class="nav-list-link">Dynamic Time Warping (DTW)</a><li class="nav-list-item"><a href="/docs/resources/learning/courses-neuroimaging/" class="nav-list-link">External Courses / Workshops</a><li class="nav-list-item"><a href="/docs/resources/learning/file-types/" class="nav-list-link">File Types - Neuroimaging</a><li class="nav-list-item"><a href="/docs/resources/learning/glm/" class="nav-list-link">General Linear Model</a><li class="nav-list-item"><a href="/docs/resources/learning/preprocessing/" class="nav-list-link">Pre-Processing fMRI Data</a><li class="nav-list-item"><a href="/docs/resources/learning/fmri-to-network/" class="nav-list-link">fMRI ‚Üí Network</a><li class="nav-list-item"><a href="/docs/resources/learning/fmriprep/" class="nav-list-link">fMRIPrep Overview</a></ul></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Running Experiments category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/running-experiments/" class="nav-list-link">Running Experiments</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/running-experiments/irb-submission/" class="nav-list-link">IRBs</a><li class="nav-list-item"><a href="/docs/running-experiments/scales/" class="nav-list-link">Self-Report Scales</a><li class="nav-list-item"><a href="/docs/running-experiments/using-psychopy/" class="nav-list-link">Using PsychoPy</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Rutgers Admin category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/rutgers-admin/" class="nav-list-link">Rutgers Admin</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/rutgers-admin/citi/" class="nav-list-link">CITI Courses</a><li class="nav-list-item"><a href="/docs/rutgers-admin/helpful-links/" class="nav-list-link">Helpful Links</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Rutgers Admin category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/rutgers-admin/rutgers-contacts/" class="nav-list-link">Rutgers Admin</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/rutgers-admin/citi/" class="nav-list-link">CITI Courses</a><li class="nav-list-item"><a href="/docs/rutgers-admin/helpful-links/" class="nav-list-link">Helpful Links</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Travel & Reimbursements category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/travel-reimbursements/" class="nav-list-link">Travel & Reimbursements</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/travel-reimbursements/concur-reimbursement/" class="nav-list-link">Concur Travel Booking</a></ul><li class="nav-list-item"><a href="/docs/using-this-wiki/markdown/" class="nav-list-link">Using Markdown</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Using this Wiki category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/using-this-wiki/" class="nav-list-link">Using this Wiki</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/using-this-wiki/using-this-wiki/" class="nav-list-link">How to update this wiki</a><li class="nav-list-item"><a href="/docs/using-this-wiki/structure/" class="nav-list-link">Structure of this Wiki</a></ul></ul><ul class="nav-list"><li class="nav-list-item external"> <a href="https://holmeslab.rutgers.edu/" class="nav-list-link external" > Holmes Lab Website <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search" role="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Holmes Lab Documentation" aria-label="Search Holmes Lab Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://github.com/HolmesLab/holmeslab" class="site-button" target="_blank" rel="noopener noreferrer" > This Repository on Github </a></ul></nav></div><div class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/docs/amarel-computing/">Amarel Computing</a><li class="breadcrumb-nav-list-item"><span>Slurm Jobs Tutorial</span></ol></nav><div id="main-content" class="main-content"><main><h1 id="slurm-jobs-tutorial---rutgers"> <a href="#slurm-jobs-tutorial---rutgers" class="anchor-heading" aria-labelledby="slurm-jobs-tutorial---rutgers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Slurm Jobs Tutorial - Rutgers</h1><p>Date: March 27, 2024 2:55 PM</p><aside> üìå In-depth Information in: [Rutgers AMAREL Cluster User Guide](https://sites.google.com/view/cluster-user-guide) [Rutgers Slurm Job / Batch User Guide](https://sites.google.com/view/cluster-user-guide#h.p4379j6lgjuh)</aside><h2 id="quick-tutorial"> <a href="#quick-tutorial" class="anchor-heading" aria-labelledby="quick-tutorial"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Quick Tutorial:</h2><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbatch &lt;filename&gt;.sh <span class="c">#send job</span>
sacct <span class="c">#see your current jobs</span>
sacct <span class="nt">-e</span> <span class="c">#see all the variables you can specify to see about your jobs</span>
acct <span class="nt">--format</span><span class="o">=</span>JobId,JobName%50,Partition%15,State,Elapsed,ExitCode,Start,End <span class="nt">--starttime</span><span class="o">=</span>2025-04-01T22:43:21 <span class="c">#example of vars</span>
watch <span class="nt">-n</span> 1 squeue <span class="nt">-u</span> &lt;netID&gt; <span class="c">#watch your live currently running jobs</span>
     <span class="c"># control + C to exit 'watch'</span>
</code></pre></div></div><ol><li>export my script as a NAME.sh file (make sure to add #!/bin/bash at top)<li>Fill in this with your specs</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#! /bin/bash</span>
<span class="c">#SBATCH --partition=p_dz268_1</span>
<span class="c">#SBATCH --job-name=&lt;some job name&gt;.sh </span>
<span class="c">#SBATCH --requeue</span>
<span class="c">#SBATCH --nodes=1 </span>
<span class="c">#SBATCH --ntasks=1</span>
<span class="c">#SBATCH --cpus-per-task=1</span>
<span class="c">#SBATCH --mem=2000</span>
<span class="c">#SBATCH --time=*48:00:00*</span>
<span class="c">#SBATCH --output=/path/to/folder/&lt;some job name&gt;.out </span>
<span class="c">#SBATCH --error=/path/to/folder/&lt;some job name&gt;.err</span>

module purge

<span class="c"># Activate the holmesenv virtual environment to use installed packages</span>
<span class="c"># if you need additional packages for your script, install them into /holmesenv/bin/activate</span>
<span class="nb">source</span> ~/projects/community/holmesenv/bin/activate

<span class="nb">eval</span> <span class="s2">"</span><span class="si">$(</span>conda shell.bash hook<span class="si">)</span><span class="s2">"</span>  <span class="c"># Properly initialize Conda</span>
conda activate /projects/community/holmesenv

bash /path/to/your/file/&lt;filename&gt;.sh    
<span class="c">#OR </span>
python3 /path/to/your/file/&lt;filename&gt;.py
</code></pre></div></div><ol><li>then save that whole script as run_NAME.sh (even if the file running is python)<li><p>then do this to make both files executable</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">chmod</span> +x NAME.py
 <span class="nb">chmod</span> +x run_NAME.sh
</code></pre></div></div><li>then run</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbatch run_NAME.sh
</code></pre></div></div><h3 id="downloads-in-login-nodes"> <a href="#downloads-in-login-nodes" class="anchor-heading" aria-labelledby="downloads-in-login-nodes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Downloads (in login nodes)</h3><p>Run all internet downloads on the login node</p><ul><li>5-7 simultaneous downloads on the login node<li>has faster internet connection<li>slurm has small internet bandwidth, login has more, but also slurm bandwidth will stop everyone else<li>add an ampersand at the end of the download line so that it runs in the background<li>and also configure your computer so that it stays active<ul><li>To do this, follow this tutorial: <a href="https://www.baeldung.com/linux/nohup-avoid-input-output-message">NoHup Avoid Broken Pipe Error</a></ul></ul><p>Code Template:</p><p>Just out file</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/path/to/my_script.sh 1&gt;/path/to/my_script.out &amp;
</code></pre></div></div><p>Out file and error file</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/path/to/my_script.sh 1&gt;/path/to/my_script.out 2&gt;/path/to/my_script.err &amp;

python /projects/f_ah1491_1/open_data/NAPLS3/docs/scripts/bidsconverter/batchscripts/napls_bidsconverter_bysubj_jun11_copy3.py 1&gt;/projects/f_ah1491_1/open_data/NAPLS3/docs/scripts/bidsconverter/batchscripts/out/terminalpytest3.out 2&gt;/projects/f_ah1491_1/open_data/NAPLS3/docs/scripts/bidsconverter/batchscripts/err/terminalpytest3.out &amp;
</code></pre></div></div><p>This will run your script in the background (&amp;) and save out the terminal outputs into a file with the same name but a different extension (.out) and the error files into that name but (.err)</p><p>projects/f_ah1491_1/Open_Data/HCP_EP/code/ndaDownload/<a href="https://ondemand.hpc.rutgers.edu/node/slepner088.amarel.rutgers.edu/36553/edit/_f_ah1491_1/Open_Data/HCP_EP/code/ndaDownload/ep_long.sh">ep_long.sh</a> 1&gt; slurm.out 2&gt; slurm.err &amp;</p><p>TIPS</p><ul><li>if anything weird comes up can do <code class="language-plaintext highlighter-rouge">scancel &lt;job number&gt;</code><li><code class="language-plaintext highlighter-rouge">sacct -e</code> shows all the variables you could pull up for existing/past jobs<ul><li>‚Äîstate=failed, running, pending, completed</ul><li>try it with one subject, see time, multiply by subjects = time estimate</ul><h3 id="nda-download-in-depth-tutorial"> <a href="#nda-download-in-depth-tutorial" class="anchor-heading" aria-labelledby="nda-download-in-depth-tutorial"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> NDA download In-Depth Tutorial</h3><ol><li><p>Open text editor (BBEdit, Textedit, VSCode, etc.) and paste the code you want to run via terminal</p><p>(downloadcmd is a command from the package nda-tools)</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    
 downloadcmd <span class="nt">-dp</span> 1225580 <span class="nt">-d</span> /projects/f_ah1491_1/Open_Data/NAPLS3 <span class="nt">-wt</span> 5
    
</code></pre></div></div><ul><li>-wt = the number of files you download in parallel. You should use max 10.<li>change 1225580 to YOUR PACKAGE ID<li>change /projects/f_ah1491_1 to the FOLDER YOU WANT TO DOWNLOAD TO</ul><li>Save this file as a NAME.sh file, and have NAME be relevant to the package you‚Äôre downloading<li>Create shell script<ol><li>Open a new file in text editor (BBEdit, Textedit, VSCode, etc.)<li>paste this code:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c">#! /bin/bash</span>
 <span class="c">#SBATCH --partition=main</span>
 <span class="c">#SBATCH --requeue</span>
 <span class="c">#SBATCH --nodes=1</span>
 <span class="c">#SBATCH --ntasks=1</span>
 <span class="c">#SBATCH --cpus-per-task=1</span>
 <span class="c">#SBATCH --mem=2000</span>
 <span class="c">#SBATCH --time=48:00:00</span>
 <span class="c">#SBATCH --output=slurm.%N.%j.out</span>
 <span class="c">#SBATCH --error=slurm.%N.%j.err</span>
 <span class="nb">cd</span> /projects/f_ah1491_1
 module purge
 srun /projects/f_ah1491_1 &lt; NAME.sh    
</code></pre></div></div><ul><li>Change time=48:00:00 to however much time you think you‚Äôll need. Max to request is 2 weeks, but the more time you request the longer your slurm job will sit in the queue before running.<ul><li>To estimate timing, try downloading 1 subject file and time how long the download takes, then multiply that by number of subjects</ul><li>Change <code class="language-plaintext highlighter-rouge">cd /projects/f_ah1491_1</code> to whatever filepath you want the data to be downloaded into.<li>Change <code class="language-plaintext highlighter-rouge">srun /projects/f_ah1491_1</code> to whatever filepath you want the data to be downloaded to</ul><li><p>Save this file as a SHELLNAME.sh file, naming it something relevant to the package + shell</p><li><p>Make sure both .sh files are in the SAME folder in your home directory, or <em>somewhere in amarel</em>, not on your local computer</p><p><img src="/docs/amarel-computing/Slurm%20Jobs%20Tutorial%20-%20Rutgers%20f8f32e7fadf34f62a258fdd5c1080ed7/Screen_Shot_2024-03-21_at_10.38.41_AM.png" alt="Screen Shot 2024-03-21 at 10.38.41 AM.png" /></p><li>open terminal<ol><li>run <code class="language-plaintext highlighter-rouge">cd /home/kj537/nda_downloads</code> ‚Üê replace with wherever your .sh files are saved<li>run <code class="language-plaintext highlighter-rouge">sbatch SHELLNAME.sh</code></ol><li>It should prompt you here for your username and password from NDA. Make sure these are the credentials that link to the account where you created the data package!<li>Once the job starts running, you can check it‚Äôs running and its progress by entering <code class="language-plaintext highlighter-rouge">sacct</code><ol><li><p>Your job should be listed in this table like this</p><p><img src="/docs/amarel-computing/Slurm%20Jobs%20Tutorial%20-%20Rutgers%20f8f32e7fadf34f62a258fdd5c1080ed7/Screen_Shot_2024-03-21_at_10.42.55_AM.png" alt="Screen Shot 2024-03-21 at 10.42.55 AM.png" /></p></ol></ol><p>Troubleshooting:</p><ul><li><p>open error files via:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">cd</span> /dir/where error file is/
  vi slurm.most.recent.err
</code></pre></div></div><p>the top line will be the reasoning</p><li>check permissions<li>check everything is in the right folders</ul><p>Common Shell Commands <code class="language-plaintext highlighter-rouge">./</code> = current directory</p><p><code class="language-plaintext highlighter-rouge">..</code> = parent directory</p><p><strong><code class="language-plaintext highlighter-rouge">pwd</code>=</strong> print working dir</p><p><strong><code class="language-plaintext highlighter-rouge">cd /'dir'</code> =</strong> change wd to specified dir</p><p><strong><code class="language-plaintext highlighter-rouge">cd ..</code></strong> = change wd to parent directory</p><p><strong><code class="language-plaintext highlighter-rouge">cd -</code></strong> = will go back to the directory you were last in</p><p><strong><code class="language-plaintext highlighter-rouge">ls</code></strong> = prints all the files in current dir</p><p><strong><code class="language-plaintext highlighter-rouge">echo</code></strong> = returns whatever is after echo (or in quotes for stuff w spaces in it)</p><p><strong><code class="language-plaintext highlighter-rouge">cat</code></strong> = display contents of files, concatenate (if multiple listed)</p><p><strong><code class="language-plaintext highlighter-rouge">vim</code></strong> or <code class="language-plaintext highlighter-rouge">vi</code> = displays contents, like cat, but with additional features (scrolling, etc.)</p><p><code class="language-plaintext highlighter-rouge">:q</code> gets you out of the vim viewer</p><p><strong><code class="language-plaintext highlighter-rouge">cat ‚Äòfile‚Äô</code> =</strong> prints the contents of a file</p><p>**<code class="language-plaintext highlighter-rouge">xdg-open** ‚Äòfile‚Äô</code> =</p><p><strong><code class="language-plaintext highlighter-rouge">~</code></strong> = home directory</p><p><strong><code class="language-plaintext highlighter-rouge">&lt;fn&gt; -l</code></strong> = will give you more info on that function</p><p><strong><code class="language-plaintext highlighter-rouge">ls -l</code></strong> = returns the permissions you have on the working directory <strong><code class="language-plaintext highlighter-rouge">chmod +x &lt;script.sh</code>&gt;</strong> = gives execute permissions to script.sh</p><p><strong><code class="language-plaintext highlighter-rouge">chmod ugo+rwx &lt;script.sh</code>&gt;</strong> = change your permissions in a folder to read-write-execute</p><p><strong><code class="language-plaintext highlighter-rouge">mv /dir</code> =</strong> moves a file</p><p><strong><code class="language-plaintext highlighter-rouge">mkdir</code></strong> = make a new directory</p><p><strong><code class="language-plaintext highlighter-rouge">rm</code></strong> = remove file (theres no undo)</p><p><strong><code class="language-plaintext highlighter-rouge">cp</code></strong> <code class="language-plaintext highlighter-rouge">rsync [options] &lt;source_file&gt; &lt;destination_directory&gt;</code> = copy files; [options]: These are optional flags that modify the behavior of <code class="language-plaintext highlighter-rouge">rsync</code>. Some common options include <code class="language-plaintext highlighter-rouge">-a</code> (archive mode, preserves permissions and other attributes), <code class="language-plaintext highlighter-rouge">-v</code> (verbose output), <code class="language-plaintext highlighter-rouge">-r</code> (recursively copy directories), and <code class="language-plaintext highlighter-rouge">-u</code> (update only, skip files that are newer in the destination).</p><ul><li>rsync is recommended for larger files</ul><p><strong><code class="language-plaintext highlighter-rouge">&gt;</code></strong> = specifies where you want the output of that command to be saved/to go</p><p><strong><code class="language-plaintext highlighter-rouge">x | y</code></strong> = makes the <em>output</em> of x the <em>input</em> of</p><p><strong><code class="language-plaintext highlighter-rouge">sudo</code></strong> = runs the next command as the Root / Super User (can‚Äôt run multiple commands w/o shell)</p><ul><li><code class="language-plaintext highlighter-rouge">sudo su</code> = run root as shell<li>dangerous</ul><p><strong><code class="language-plaintext highlighter-rouge">tee</code></strong> = takes its input, and writes it to a (specific?) file, and prints it out</p><p><strong><code class="language-plaintext highlighter-rouge">tail</code></strong> = print __ of the last output</p><p><strong><code class="language-plaintext highlighter-rouge">tail -n1</code></strong> = print the last 1 line of the last output</p><p><strong><code class="language-plaintext highlighter-rouge">./script.sh</code></strong> = will run script.sh in current directory</p><p><strong><code class="language-plaintext highlighter-rouge">python script.py</code></strong> = run script.py in python</p></main><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2025 Avram Holmes. Distributed by an <a href="https://github.com/just-the-docs/just-the-docs/tree/main/LICENSE.txt">MIT license.</a> <a href="https://www.netlify.com/">This site is powered by Netlify.</a></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/HolmesLab/holmeslab/tree/main/docs/amarel-computing/slurm-jobs-tutorial.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script> <script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script>
